<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>US号码管家 - 企业级号码管理平台</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* 全局基础样式与主题变量 */
    :root {
      --primary: #409eff;
      --primary-light: #e6f7ff;
      --primary-dark: #1890ff;
      --success: #52c41a;
      --success-light: #f6ffed;
      --warning: #faad14;
      --warning-light: #fffbe6;
      --danger: #ff4d4f;
      --danger-light: #fff2f0;
      --text-primary: #1f2937;
      --text-secondary: #6b7280;
      --text-tertiary: #9ca3af;
      --border: #e5e7eb;
      --bg-light: #f9fafb;
      --bg-white: #ffffff;
      --shadow-sm: 0 1px 3px rgba(0,0,0,0.05);
      --shadow: 0 2px 8px rgba(0,0,0,0.08);
      --shadow-lg: 0 4px 16px rgba(0,0,0,0.12);
      --radius-sm: 6px;
      --radius: 8px;
      --radius-lg: 12px;
      --transition: all 0.25s ease;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Inter', 'system-ui', '微软雅黑', sans-serif;
    }

    body {
      background-color: var(--bg-light);
      color: var(--text-primary);
      line-height: 1.5;
      font-size: 14px;
      padding: 0;
      min-height: 100vh;
    }

    /* 页面容器与布局 */
    .app-container {
      display: flex;
      min-height: 100vh;
    }

    .sidebar {
      width: 240px;
      background-color: var(--bg-white);
      border-right: 1px solid var(--border);
      padding: 1.5rem 0;
      display: flex;
      flex-direction: column;
      transition: var(--transition);
      z-index: 100;
    }

    .sidebar.collapsed {
      width: 64px;
    }

    .main-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .content-wrapper {
      flex: 1;
      padding: 1.5rem;
      overflow-y: auto;
    }

    /* 页面切换动画 */
    .page {
      display: none;
      animation: fadeIn 0.3s ease forwards;
    }

    .page.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* 卡片与容器样式 */
    .card {
      background: var(--bg-white);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow);
      padding: 1.25rem;
      margin-bottom: 1.25rem;
      transition: var(--transition);
    }

    .card:hover {
      box-shadow: var(--shadow-lg);
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
      padding-bottom: 0.75rem;
      border-bottom: 1px solid var(--border);
    }

    .card-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--text-primary);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* 按钮样式升级 */
    .btn {
      padding: 8px 16px;
      border-radius: var(--radius);
      border: none;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      transition: var(--transition);
      height: 36px;
      min-width: 80px;
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: var(--shadow);
    }

    .btn:active {
      transform: translateY(0);
    }

    .btn-primary {
      background-color: var(--primary);
      color: white;
    }

    .btn-primary:hover {
      background-color: var(--primary-dark);
    }

    .btn-success {
      background-color: var(--success);
      color: white;
    }

    .btn-success:hover {
      background-color: #4aa918;
    }

    .btn-warning {
      background-color: var(--warning);
      color: white;
    }

    .btn-warning:hover {
      background-color: #e69c00;
    }

    .btn-danger {
      background-color: var(--danger);
      color: white;
    }

    .btn-danger:hover {
      background-color: #e04344;
    }

    .btn-default {
      background-color: var(--bg-white);
      color: var(--text-secondary);
      border: 1px solid var(--border);
    }

    .btn-default:hover {
      background-color: var(--bg-light);
    }

    .btn-sm {
      padding: 4px 12px;
      height: 32px;
      font-size: 13px;
      min-width: auto;
    }

    .btn-icon {
      width: 36px;
      height: 36px;
      padding: 0;
      min-width: auto;
      border-radius: 50%;
    }

    /* 输入框与选择器优化 */
    .input, .select, .textarea {
      padding: 8px 12px;
      border-radius: var(--radius);
      border: 1px solid var(--border);
      font-size: 14px;
      width: 100%;
      transition: var(--transition);
      height: 36px;
      background-color: var(--bg-white);
    }

    .textarea {
      min-height: 80px;
      resize: vertical;
      line-height: 1.5;
      padding-top: 10px;
    }

    .input:focus, .select:focus, .textarea:focus {
      border-color: var(--primary);
      outline: none;
      box-shadow: 0 0 0 3px var(--primary-light);
    }

    .input-search {
      flex: 1;
      max-width: 400px;
      position: relative;
    }

    .input-search::placeholder {
      color: var(--text-tertiary);
    }

    .form-row {
      display: flex;
      gap: 1rem;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }

    .form-col {
      flex: 1;
      min-width: 200px;
    }

    /* 顶部导航栏 */
    .header {
      height: 64px;
      background-color: var(--bg-white);
      border-bottom: 1px solid var(--border);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 1.5rem;
      box-shadow: var(--shadow-sm);
      z-index: 90;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 18px;
      font-weight: 600;
      color: var(--primary);
    }

    .logo-icon {
      width: 36px;
      height: 36px;
      background-color: var(--primary);
      border-radius: var(--radius);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 18px;
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .user-info {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 4px 12px;
      border-radius: 18px;
      background-color: var(--bg-light);
      cursor: pointer;
      transition: var(--transition);
    }

    .user-info:hover {
      background-color: var(--primary-light);
    }

    .user-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background-color: var(--primary-light);
      color: var(--primary);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
    }

    /* 侧边栏导航 */
    .sidebar-menu {
      list-style: none;
      margin-top: 1.5rem;
    }

    .sidebar-menu-item {
      margin-bottom: 4px;
    }

    .sidebar-menu-link {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 10px 1.25rem;
      color: var(--text-secondary);
      text-decoration: none;
      font-weight: 500;
      border-left: 3px solid transparent;
      transition: var(--transition);
    }

    .sidebar-menu-link:hover {
      background-color: var(--bg-light);
      color: var(--primary);
    }

    .sidebar-menu-link.active {
      background-color: var(--primary-light);
      color: var(--primary);
      border-left-color: var(--primary);
    }

    .sidebar-menu-icon {
      font-size: 18px;
      width: 20px;
      text-align: center;
    }

    .sidebar-collapse {
      margin-top: auto;
      display: flex;
      justify-content: center;
      padding: 12px;
    }

    .sidebar-collapse-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background-color: var(--bg-light);
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition);
      color: var(--text-secondary);
    }

    .sidebar-collapse-btn:hover {
      background-color: var(--primary-light);
      color: var(--primary);
    }

    /* 筛选区优化 */
    .filter-bar {
      display: flex;
      gap: 1rem;
      align-items: center;
      flex-wrap: wrap;
      margin-bottom: 1rem;
      padding: 0.75rem 1rem;
      background-color: var(--bg-white);
      border-radius: var(--radius);
      border: 1px solid var(--border);
    }

    .filter-actions {
      display: flex;
      gap: 0.5rem;
      margin-left: auto;
    }

    .saved-filters {
      position: relative;
    }

    .saved-filters-btn {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .filter-dropdown {
      position: absolute;
      top: 100%;
      right: 0;
      width: 200px;
      background-color: var(--bg-white);
      border-radius: var(--radius);
      box-shadow: var(--shadow-lg);
      margin-top: 4px;
      z-index: 10;
      overflow: hidden;
      display: none;
    }

    .filter-dropdown.show {
      display: block;
      animation: fadeIn 0.2s ease forwards;
    }

    .filter-dropdown-item {
      padding: 8px 12px;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .filter-dropdown-item:hover {
      background-color: var(--primary-light);
      color: var(--primary);
    }

    .filter-dropdown-divider {
      height: 1px;
      background-color: var(--border);
      margin: 4px 0;
    }

    /* 表格样式升级 */
    .table {
      width: 100%;
      border-collapse: collapse;
      font-size: 14px;
      border-radius: var(--radius-lg);
      overflow: hidden;
    }

    .table-wrapper {
      overflow-x: auto;
      border-radius: var(--radius-lg);
      border: 1px solid var(--border);
      background-color: var(--bg-white);
    }

    .table th, .table td {
      padding: 12px 15px;
      text-align: left;
      border-bottom: 1px solid var(--border);
      white-space: nowrap;
      transition: var(--transition);
    }

    .table th {
      background-color: var(--bg-light);
      font-weight: 600;
      color: var(--text-secondary);
      position: relative;
      user-select: none;
    }

    .table th:hover {
      background-color: #f1f5f9;
    }

    .table th.sortable {
      cursor: pointer;
      padding-right: 24px;
    }

    .table th.sortable::after {
      content: "\f0dc";
      font-family: "Font Awesome 6 Free";
      font-weight: 900;
      position: absolute;
      right: 10px;
      font-size: 12px;
      color: var(--text-tertiary);
    }

    .table th.sort-asc::after {
      content: "\f0de";
      color: var(--primary);
    }

    .table th.sort-desc::after {
      content: "\f0dd";
      color: var(--primary);
    }

    .table tr:hover {
      background-color: var(--primary-light);
    }

    .table tr:last-child td {
      border-bottom: none;
    }

    .phone-number {
      font-family: 'SFMono-Regular', Consolas, monospace;
      color: var(--text-primary);
      font-weight: 500;
    }

    /* 状态标签样式 */
    .status-tag {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 2px 8px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 500;
    }

    .status-used {
      background-color: var(--success-light);
      color: var(--success);
    }

    .status-unused {
      background-color: var(--warning-light);
      color: var(--warning);
    }

    .status-disabled {
      background-color: var(--danger-light);
      color: var(--danger);
    }

    /* 操作按钮组 */
    .oper-group {
      display: flex;
      gap: 4px;
    }

    .oper-btn {
      color: var(--text-secondary);
      background: none;
      border: none;
      cursor: pointer;
      padding: 4px 8px;
      border-radius: var(--radius-sm);
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 4px;
      transition: var(--transition);
    }

    .oper-btn:hover {
      background-color: var(--primary-light);
      color: var(--primary);
    }

    .oper-btn-danger {
      color: var(--danger);
    }

    .oper-btn-danger:hover {
      background-color: var(--danger-light);
      color: var(--danger);
    }

    /* 统计信息卡片 */
    .stats-container {
      display: flex;
      gap: 1rem;
      margin-bottom: 1.25rem;
      flex-wrap: wrap;
    }

    .stat-card {
      flex: 1;
      min-width: 200px;
      background-color: var(--bg-white);
      border-radius: var(--radius-lg);
      padding: 1rem;
      box-shadow: var(--shadow);
      border-top: 3px solid var(--primary);
      transition: var(--transition);
    }

    .stat-card:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-lg);
    }

    .stat-card.success {
      border-top-color: var(--success);
    }

    .stat-card.warning {
      border-top-color: var(--warning);
    }

    .stat-card.danger {
      border-top-color: var(--danger);
    }

    .stat-title {
      font-size: 13px;
      color: var(--text-secondary);
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .stat-value {
      font-size: 24px;
      font-weight: 600;
      color: var(--text-primary);
      display: flex;
      align-items: baseline;
      gap: 8px;
    }

    .stat-change {
      font-size: 12px;
      padding: 1px 6px;
      border-radius: 4px;
    }

    .stat-change.positive {
      background-color: var(--success-light);
      color: var(--success);
    }

    .stat-change.negative {
      background-color: var(--danger-light);
      color: var(--danger);
    }

    .stat-desc {
      font-size: 12px;
      color: var(--text-tertiary);
      margin-top: 6px;
    }

    /* 表单样式优化 */
    .form {
      max-width: 800px;
      margin: 0 auto;
    }

    .form-item {
      margin-bottom: 1.25rem;
    }

    .form-label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: var(--text-primary);
    }

    .form-hint {
      margin-top: 5px;
      font-size: 12px;
      color: var(--text-tertiary);
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .form-actions {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
      margin-top: 2rem;
      padding-top: 1rem;
      border-top: 1px solid var(--border);
    }

    .form-note {
      color: var(--danger);
      font-size: 12px;
      margin-top: 5px;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    /* 时间线样式升级 */
    .timeline {
      position: relative;
      max-width: 800px;
      margin: 0 auto;
      padding-left: 28px;
    }

    .timeline::before {
      content: '';
      position: absolute;
      left: 10px;
      top: 0;
      bottom: 0;
      width: 2px;
      background-color: var(--border);
    }

    .timeline-item {
      position: relative;
      margin-bottom: 1.5rem;
      padding-bottom: 0.5rem;
    }

    .timeline-dot {
      position: absolute;
      left: -28px;
      top: 3px;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background-color: var(--primary);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 10px;
      box-shadow: 0 0 0 3px var(--primary-light);
    }

    .timeline-dot.used {
      background-color: var(--success);
      box-shadow: 0 0 0 3px var(--success-light);
    }

    .timeline-dot.unused {
      background-color: var(--warning);
      box-shadow: 0 0 0 3px var(--warning-light);
    }

    .timeline-dot.deleted {
      background-color: var(--danger);
      box-shadow: 0 0 0 3px var(--danger-light);
    }

    .timeline-content {
      background-color: var(--bg-white);
      border-radius: var(--radius);
      padding: 1rem;
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
      transition: var(--transition);
    }

    .timeline-content:hover {
      box-shadow: var(--shadow-lg);
      transform: translateX(3px);
    }

    .timeline-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .timeline-time {
      color: var(--text-tertiary);
      font-size: 12px;
    }

    .timeline-action {
      font-size: 12px;
      font-weight: 500;
      padding: 2px 8px;
      border-radius: 4px;
    }

    .timeline-title {
      font-weight: 500;
      margin-bottom: 6px;
    }

    .timeline-detail {
      font-size: 14px;
      color: var(--text-secondary);
      line-height: 1.6;
    }

    /* 提示框和加载动画优化 */
    .toast {
      position: fixed;
      top: 20px;
      right: 20px;
      transform: translateX(120%);
      padding: 12px 16px;
      border-radius: var(--radius);
      background-color: rgba(0,0,0,0.8);
      color: white;
      font-size: 14px;
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: var(--shadow-lg);
      transition: transform 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);
      max-width: 360px;
    }

    .toast.show {
      transform: translateX(0);
    }

    .toast-success {
      background-color: var(--success);
      border-left: 4px solid #389e0d;
    }

    .toast-error {
      background-color: var(--danger);
      border-left: 4px solid #cf1322;
    }

    .toast-warning {
      background-color: var(--warning);
      border-left: 4px solid #d48806;
    }

    .toast-info {
      background-color: var(--primary);
      border-left: 4px solid #096dd9;
    }

    .loading {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(255,255,255,0.8);
      z-index: 1001;
      display: none;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      gap: 15px;
      backdrop-filter: blur(2px);
    }

    .loading.show {
      display: flex;
    }

    .loading-spinner {
      width: 48px;
      height: 48px;
      border: 4px solid var(--primary-light);
      border-top: 4px solid var(--primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .loading-text {
      font-size: 16px;
      color: var(--text-secondary);
      font-weight: 500;
    }

    /* 模态框样式升级 */
    .modal-backdrop {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      z-index: 2000;
      display: none;
      justify-content: center;
      align-items: center;
      backdrop-filter: blur(2px);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .modal-backdrop.show {
      display: flex;
      opacity: 1;
    }

    .modal {
      background-color: var(--bg-white);
      border-radius: var(--radius-lg);
      width: 90%;
      max-width: 800px;
      max-height: 85vh;
      overflow-y: auto;
      box-shadow: var(--shadow-lg);
      transform: translateY(20px) scale(0.98);
      transition: transform 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);
    }

    .modal-backdrop.show .modal {
      transform: translateY(0) scale(1);
    }

    .modal-header {
      padding: 1rem 1.25rem;
      border-bottom: 1px solid var(--border);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--text-primary);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .modal-close {
      background: none;
      border: none;
      font-size: 18px;
      cursor: pointer;
      color: var(--text-tertiary);
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: var(--transition);
    }

    .modal-close:hover {
      background-color: var(--danger-light);
      color: var(--danger);
    }

    .modal-body {
      padding: 1.25rem;
    }

    .modal-footer {
      padding: 1rem 1.25rem;
      border-top: 1px solid var(--border);
      display: flex;
      justify-content: flex-end;
      gap: 10px;
    }

    /* 导入模板和帮助文本 */
    .import-template {
      margin-top: 1rem;
      padding: 1rem;
      background-color: var(--bg-light);
      border-radius: var(--radius);
      font-size: 13px;
      border: 1px solid var(--border);
    }

    .import-template-title {
      font-weight: 600;
      margin-bottom: 8px;
      color: var(--primary);
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .import-fields {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin: 10px 0;
    }

    .import-field {
      padding: 3px 8px;
      background-color: var(--primary-light);
      border-radius: 4px;
      font-size: 12px;
      color: var(--primary);
      font-weight: 500;
    }

    /* 人员列表样式优化 */
    .person-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
      gap: 1rem;
      margin-top: 1rem;
    }

    .person-card {
      background-color: var(--bg-white);
      border-radius: var(--radius);
      padding: 1rem;
      border: 1px solid var(--border);
      transition: var(--transition);
      display: flex;
      flex-direction: column;
    }

    .person-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
      border-color: var(--primary-light);
    }

    .person-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 1rem;
    }

    .person-avatar-lg {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background-color: var(--primary-light);
      color: var(--primary);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      font-weight: 600;
    }

    .person-name {
      font-weight: 600;
      margin-bottom: 4px;
      font-size: 16px;
    }

    .person-department {
      font-size: 12px;
      color: var(--text-tertiary);
      background-color: var(--bg-light);
      padding: 2px 6px;
      border-radius: 4px;
      display: inline-block;
    }

    .person-info {
      font-size: 13px;
      color: var(--text-secondary);
      margin-bottom: 6px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .person-info i {
      color: var(--text-tertiary);
      width: 16px;
      text-align: center;
    }

    .person-actions {
      margin-top: auto;
      display: flex;
      justify-content: flex-end;
      gap: 6px;
      padding-top: 0.75rem;
      border-top: 1px dashed var(--border);
    }

    /* 导入方式选项卡 */
    .import-tabs {
      display: flex;
      border-bottom: 1px solid var(--border);
      margin-bottom: 1rem;
      position: relative;
    }

    .import-tab {
      padding: 10px 1.25rem;
      cursor: pointer;
      border-bottom: 2px solid transparent;
      transition: var(--transition);
      font-weight: 500;
      position: relative;
      z-index: 1;
    }

    .import-tab.active {
      color: var(--primary);
    }

    .import-tab-indicator {
      position: absolute;
      bottom: -1px;
      left: 0;
      height: 2px;
      background-color: var(--primary);
      border-radius: 2px 2px 0 0;
      transition: var(--transition);
    }

    .import-tab-content {
      display: none;
      animation: fadeIn 0.3s ease forwards;
    }

    .import-tab-content.active {
      display: block;
    }

    /* 粘贴导入文本区域 */
    .paste-area {
      width: 100%;
      min-height: 180px;
      padding: 12px;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      font-family: monospace;
      font-size: 13px;
      resize: vertical;
      margin-bottom: 10px;
      line-height: 1.6;
    }

    .paste-area:focus {
      border-color: var(--primary);
      outline: none;
      box-shadow: 0 0 0 3px var(--primary-light);
    }

    .paste-preview {
      margin-top: 1rem;
      max-height: 240px;
      overflow-y: auto;
      border: 1px solid var(--border);
      border-radius: var(--radius);
    }

    .paste-preview-header {
      background-color: var(--bg-light);
      font-weight: 500;
    }

    .paste-preview-row {
      display: grid;
      grid-template-columns: 50px 1fr 1fr 1fr 1fr;
      padding: 10px 12px;
      border-bottom: 1px solid var(--border);
      font-size: 13px;
      transition: var(--transition);
    }

    .paste-preview-row:hover {
      background-color: var(--primary-light);
    }

    .paste-preview-row.error {
      background-color: var(--danger-light);
    }

    .paste-error {
      color: var(--danger);
      font-size: 12px;
      margin-top: 8px;
      padding: 8px;
      background-color: var(--danger-light);
      border-radius: var(--radius-sm);
      display: flex;
      align-items: center;
      gap: 6px;
    }

    /* 主题切换与个性化设置 */
    .theme-switch {
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
    }

    .switch {
      position: relative;
      display: inline-block;
      width: 40px;
      height: 20px;
    }

    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: .3s;
      border-radius: 20px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 16px;
      width: 16px;
      left: 2px;
      bottom: 2px;
      background-color: white;
      transition: .3s;
      border-radius: 50%;
    }

    input:checked + .slider {
      background-color: var(--primary);
    }

    input:checked + .slider:before {
      transform: translateX(20px);
    }

    .settings-dropdown {
      position: absolute;
      top: 100%;
      right: 0;
      width: 240px;
      background-color: var(--bg-white);
      border-radius: var(--radius);
      box-shadow: var(--shadow-lg);
      margin-top: 4px;
      z-index: 100;
      overflow: hidden;
      display: none;
      animation: fadeIn 0.2s ease forwards;
    }

    .settings-dropdown.show {
      display: block;
    }

    .settings-section {
      padding: 12px 16px;
      border-bottom: 1px solid var(--border);
    }

    .settings-section:last-child {
      border-bottom: none;
    }

    .settings-title {
      font-size: 13px;
      color: var(--text-tertiary);
      margin-bottom: 8px;
      font-weight: 500;
    }

    .settings-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .settings-item:last-child {
      margin-bottom: 0;
    }

    .settings-label {
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    /* 响应式设计优化 */
    @media (max-width: 1024px) {
      .sidebar {
        width: 220px;
      }
      
      .stats-container {
        gap: 0.75rem;
      }
      
      .person-list {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      }
    }

    @media (max-width: 768px) {
      .sidebar {
        position: fixed;
        left: -240px;
        height: 100vh;
      }
      
      .sidebar.show {
        left: 0;
      }
      
      .sidebar.collapsed.show {
        left: 0;
        width: 64px;
      }
      
      .main-content {
        width: 100%;
      }
      
      .mobile-header {
        display: flex !important;
      }
      
      .filter-bar {
        flex-direction: column;
        align-items: stretch;
      }
      
      .filter-actions {
        margin-left: 0;
        width: 100%;
        justify-content: flex-end;
      }
      
      .input-search {
        width: 100%;
        max-width: none;
      }
      
      .form-row {
        gap: 0.75rem;
      }
      
      .form-col {
        flex: 0 0 100%;
      }
      
      .stats-container {
        flex-direction: column;
      }
      
      .stat-card {
        min-width: auto;
      }
      
      .paste-preview-row {
        grid-template-columns: 40px 1fr;
        grid-template-rows: auto auto auto auto;
        grid-template-areas:
          "index phone"
          "index name"
          "index age"
          "index assignee";
      }
      
      .paste-preview-row > div:nth-child(1) { grid-area: index; }
      .paste-preview-row > div:nth-child(2) { grid-area: phone; }
      .paste-preview-row > div:nth-child(3) { grid-area: name; }
      .paste-preview-row > div:nth-child(4) { grid-area: age; }
      .paste-preview-row > div:nth-child(5) { grid-area: assignee; }
      
      .header-actions .btn span:not(.fa) {
        display: none;
      }
      
      .header-actions .btn {
        min-width: auto;
        padding: 0 8px;
        gap: 0;
      }
      
      .user-info span {
        display: none;
      }
      
      .user-info {
        padding: 4px;
      }
    }

    /* 移动端适配 */
    .mobile-header {
      display: none;
      height: 56px;
      background-color: var(--bg-white);
      border-bottom: 1px solid var(--border);
      align-items: center;
      padding: 0 1rem;
    }

    .mobile-menu-btn {
      background: none;
      border: none;
      font-size: 20px;
      color: var(--text-secondary);
      cursor: pointer;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: var(--transition);
    }

    .mobile-menu-btn:hover {
      background-color: var(--bg-light);
      color: var(--primary);
    }

    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      z-index: 95;
      display: none;
    }

    .overlay.show {
      display: block;
    }

    /* 自定义滚动条 */
    ::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }

    ::-webkit-scrollbar-track {
      background: var(--bg-light);
      border-radius: 3px;
    }

    ::-webkit-scrollbar-thumb {
      background: var(--text-tertiary);
      border-radius: 3px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--text-secondary);
    }

    /* 工具提示 */
    .tooltip {
      position: relative;
      display: inline-block;
    }

    .tooltip .tooltip-text {
      visibility: hidden;
      width: 120px;
      background-color: var(--text-primary);
      color: #fff;
      text-align: center;
      border-radius: var(--radius-sm);
      padding: 5px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.3s;
      font-size: 12px;
      font-weight: normal;
      box-shadow: var(--shadow);
    }

    .tooltip .tooltip-text::after {
      content: "";
      position: absolute;
      top: 100%;
      left: 50%;
      margin-left: -5px;
      border-width: 5px;
      border-style: solid;
      border-color: var(--text-primary) transparent transparent transparent;
    }

    .tooltip:hover .tooltip-text {
      visibility: visible;
      opacity: 1;
    }
    
    /* 自定义数量输入框样式 */
    .custom-amount-container {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-top: 10px;
      padding: 10px;
      background-color: var(--primary-light);
      border-radius: var(--radius);
    }
    
    .custom-amount-container.hidden {
      display: none;
    }
    
    .amount-input-group {
      display: flex;
      align-items: center;
      gap: 8px;
      flex: 1;
    }
    
    .amount-input {
      width: 100px !important;
      text-align: center;
    }
    
    .amount-info {
      font-size: 12px;
      color: var(--text-secondary);
      flex: 2;
    }
  </style>
</head>
<body>
  <div class="app-container">
    <!-- 侧边栏导航 -->
    <div class="sidebar" id="sidebar">
      <div class="logo" id="sidebarLogo">
        <div class="logo-icon">📞</div>
        <span>US号码管家</span>
      </div>
      
      <ul class="sidebar-menu">
        <li class="sidebar-menu-item">
          <a href="javascript:showPage('listPage')" class="sidebar-menu-link active" data-page="listPage">
            <i class="fas fa-list sidebar-menu-icon"></i>
            <span>号码管理</span>
          </a>
        </li>
        <li class="sidebar-menu-item">
          <a href="javascript:showPage('personPage')" class="sidebar-menu-link" data-page="personPage">
            <i class="fas fa-users sidebar-menu-icon"></i>
            <span>人员管理</span>
          </a>
        </li>
        <li class="sidebar-menu-item">
          <a href="javascript:showPage('statisticsPage')" class="sidebar-menu-link" data-page="statisticsPage">
            <i class="fas fa-chart-pie sidebar-menu-icon"></i>
            <span>统计分析</span>
          </a>
        </li>
        <li class="sidebar-menu-item">
          <a href="javascript:showPage('settingsPage')" class="sidebar-menu-link" data-page="settingsPage">
            <i class="fas fa-cog sidebar-menu-icon"></i>
            <span>系统设置</span>
          </a>
        </li>
      </ul>
      
      <div class="sidebar-collapse">
        <button class="sidebar-collapse-btn" id="sidebarCollapseBtn">
          <i class="fas fa-angle-left"></i>
        </button>
      </div>
    </div>

    <!-- 移动端遮罩层 -->
    <div class="overlay" id="overlay"></div>

    <!-- 主内容区域 -->
    <div class="main-content">
      <!-- 移动端头部 -->
      <div class="mobile-header">
        <button class="mobile-menu-btn" id="mobileMenuBtn">
          <i class="fas fa-bars"></i>
        </button>
        <div class="logo" style="margin-left: 10px;">
          <div class="logo-icon" style="width: 32px; height: 32px; font-size: 16px;">📞</div>
        </div>
      </div>

      <!-- 顶部导航 -->
      <div class="header">
        <div class="header-actions" style="margin-right: auto;">
          <button class="btn btn-primary" id="refreshBtn">
            <i class="fas fa-sync-alt"></i>
            <span>刷新</span>
          </button>
        </div>
        
        <div class="header-actions">
          <button class="btn btn-success" id="addNumberBtn">
            <i class="fas fa-plus"></i>
            <span>新增号码</span>
          </button>
          <button class="btn btn-primary" id="importBtn">
            <i class="fas fa-file-import"></i>
            <span>导入</span>
          </button>
          <button class="btn btn-primary" id="exportBtn">
            <i class="fas fa-file-export"></i>
            <span>导出</span>
          </button>
          
          <div class="theme-switch tooltip">
            <label class="switch">
              <input type="checkbox" id="themeToggle">
              <span class="slider"></span>
            </label>
            <span class="tooltip-text">切换主题</span>
          </div>
          
          <div class="user-info tooltip" id="userMenuBtn">
            <div class="user-avatar">JD</div>
            <span>管理员</span>
            <i class="fas fa-chevron-down" style="font-size: 12px;"></i>
            <span class="tooltip-text">用户菜单</span>
          </div>
          
          <div class="settings-dropdown" id="userMenu">
            <div class="settings-section">
              <div class="settings-title">账户</div>
              <div class="settings-item">
                <div class="settings-label"><i class="fas fa-user"></i> 个人信息</div>
              </div>
              <div class="settings-item">
                <div class="settings-label"><i class="fas fa-key"></i> 修改密码</div>
              </div>
            </div>
            <div class="settings-section">
              <div class="settings-item">
                <div class="settings-label"><i class="fas fa-sign-out-alt"></i> 退出登录</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 内容区域 -->
      <div class="content-wrapper">
        <!-- 1. 号码列表页 -->
        <div class="page active" id="listPage">
          <!-- 统计卡片 -->
          <div class="stats-container">
            <div class="stat-card">
              <div class="stat-title">
                <i class="fas fa-phone-alt"></i> 总号码数
              </div>
              <div class="stat-value" id="totalCount">0</div>
              <div class="stat-desc">较昨日 +0</div>
            </div>
            
            <div class="stat-card success">
              <div class="stat-title">
                <i class="fas fa-check-circle"></i> 已分配
              </div>
              <div class="stat-value" id="usedCount">0</div>
              <div class="stat-desc">
                <span class="stat-change positive">+0 今日</span>
              </div>
            </div>
            
            <div class="stat-card warning">
              <div class="stat-title">
                <i class="fas fa-clock"></i> 未分配
              </div>
              <div class="stat-value" id="unusedCount">0</div>
              <div class="stat-desc">
                占比 <span id="unusedRatio">0%</span>
              </div>
            </div>
            
            <div class="stat-card danger">
              <div class="stat-title">
                <i class="fas fa-ban"></i> 已停用
              </div>
              <div class="stat-value" id="disabledCount">0</div>
              <div class="stat-desc">
                <span class="stat-change negative">+0 本周</span>
              </div>
            </div>
          </div>

          <!-- 筛选区 -->
          <div class="filter-bar">
            <select class="select" id="statusFilter" style="width: auto; min-width: 140px;">
              <option value="">全部状态</option>
              <option value="used">已分配</option>
              <option value="unused">未分配</option>
              <option value="disabled">已停用</option>
            </select>

            <select class="select" id="assigneeFilter" style="width: auto; min-width: 160px;">
              <option value="">全部人员</option>
              <!-- 人员列表将通过JS动态添加 -->
            </select>

            <div style="flex: 1; position: relative;">
              <input type="text" class="input input-search" id="searchInput" 
                     placeholder="搜索号码/姓名/被分配人" style="padding-left: 36px;">
              <i class="fas fa-search" style="position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: var(--text-tertiary);"></i>
            </div>

            <div class="filter-actions">
              <div class="saved-filters">
                <button class="btn btn-sm btn-default saved-filters-btn" id="savedFiltersBtn">
                  <i class="fas fa-filter"></i>
                  <span>筛选</span>
                </button>
                <div class="filter-dropdown" id="savedFiltersDropdown">
                  <div class="filter-dropdown-item" data-filter="recent">
                    <span>最近导入</span>
                    <i class="fas fa-clock"></i>
                  </div>
                  <div class="filter-dropdown-item" data-filter="unassigned">
                    <span>未分配号码</span>
                    <i class="fas fa-question-circle"><i class="fas fa-question-circle"></i>
                  </div>
                  <div class="filter-dropdown-divider"></div>
                  <div class="filter-dropdown-item" data-filter="save">
                    <span>保存当前筛选</span>
                    <i class="fas fa-save"></i>
                  </div>
                </div>
              </div>
              
              <button class="btn btn-sm btn-default" id="resetFilterBtn">
                <i class="fas fa-redo-alt"></i>
                <span>重置</span>
              </button>
            </div>
          </div>

          <!-- 号码表格 -->
          <div class="card">
            <div class="card-header">
              <div class="card-title">
                <i class="fas fa-list-alt"></i> 号码列表
              </div>
              <div>
                <span style="color: var(--text-tertiary); font-size: 13px;">
                  共 <span id="tableCount">0</span> 条记录
                </span>
              </div>
            </div>

            <div class="table-wrapper">
              <table class="table">
                <thead>
                  <tr>
                    <th class="sortable" data-sort="id">序号</th>
                    <th class="sortable" data-sort="phoneNumber">美国号码</th>
                    <th class="sortable" data-sort="name">姓名</th>
                    <th class="sortable" data-sort="age">年龄</th>
                    <th class="sortable" data-sort="assignee">被分配人</th>
                    <th class="sortable" data-sort="importTime">导入时间</th>
                    <th class="sortable" data-sort="fileName">来源文件</th>
                    <th>操作</th>
                  </tr>
                </thead>
                <tbody id="numberTableBody">
                  <!-- 表格内容由JS动态生成 -->
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- 2. 编辑/新增号码页 -->
        <div class="page" id="editPage">
          <div class="card">
            <div class="card-header">
              <button class="btn btn-sm btn-default" onclick="returnToList()">
                <i class="fas fa-arrow-left"></i>
                <span>返回</span>
              </button>
              <div class="card-title" id="editTitle">编辑号码</div>
            </div>

            <form class="form" id="editForm" onsubmit="saveNumber(event)">
              <input type="hidden" id="editId"> <!-- 隐藏的ID字段 -->
              <input type="hidden" id="editStatus" value="active"> <!-- 状态字段 -->
              <input type="hidden" id="editFileName"> <!-- 导入文件名（仅导入时设置） -->

              <div class="form-row">
                <div class="form-col">
                  <div class="form-item">
                    <label class="form-label">美国号码 <span style="color: var(--danger);">*</span></label>
                    <input type="text" class="input" id="editPhone" placeholder="+1-XXX-XXX-XXXX" 
                          pattern="^\+1-\d{3}-\d{3}-\d{4}$" required>
                    <div class="form-hint">
                      <i class="fas fa-info-circle"></i> 请输入美国号码，格式：+1-XXX-XXX-XXXX
                    </div>
                  </div>
                </div>
                <div class="form-col">
                  <div class="form-item">
                    <label class="form-label">姓名 <span style="color: var(--danger);">*</span></label>
                    <input type="text" class="input" id="editName" placeholder="请输入姓名" required>
                  </div>
                </div>
              </div>

              <div class="form-row">
                <div class="form-col">
                  <div class="form-item">
                    <label class="form-label">年龄 <span style="color: var(--danger);">*</span></label>
                    <input type="number" class="input" id="editAge" placeholder="请输入年龄" min="0" max="150" required>
                    <div class="form-hint">
                      <i class="fas fa-info-circle"></i> 请输入有效的年龄（0-150）
                    </div>
                  </div>
                </div>
                <div class="form-col">
                  <div class="form-item">
                    <label class="form-label">状态 <span style="color: var(--danger);">*</span></label>
                    <select class="select" id="editStatusSelect" required>
                      <option value="active">正常</option>
                      <option value="disabled">已停用</option>
                    </select>
                    <div class="form-hint">
                      <i class="fas fa-info-circle"></i> 已停用的号码将不会被分配或导出
                    </div>
                  </div>
                </div>
              </div>

              <div class="form-item">
                <label class="form-label">被分配人</label>
                <select class="select" id="editAssigneeSelect" style="margin-bottom: 10px;">
                  <option value="">未分配</option>
                  <!-- 人员列表将通过JS动态添加 -->
                </select>
                <div style="display: flex; gap: 10px;">
                  <input type="text" class="input" id="editAssigneeText" placeholder="或直接输入新的被分配人">
                  <button type="button" class="btn btn-sm btn-primary" onclick="addPersonFromEdit()">
                    <i class="fas fa-plus"></i> 添加
                  </button>
                </div>
                <div class="form-hint">
                  <i class="fas fa-info-circle"></i> 从已有人员选择或直接输入新人员
                </div>
              </div>

              <div class="form-item" id="importFileNameContainer" style="display: none;">
                <label class="form-label">来源文件</label>
                <input type="text" class="input" id="editDisplayFileName" disabled>
                <div class="form-hint">
                  <i class="fas fa-info-circle"></i> 该字段由系统自动生成，不可修改
                </div>
              </div>

              <div class="form-item">
                <label class="form-label">备注</label>
                <textarea class="textarea" id="editRemark" placeholder="添加备注信息（可选）"></textarea>
              </div>

              <div class="form-actions">
                <button type="button" class="btn btn-default" onclick="returnToList()">
                  <i class="fas fa-times"></i> 取消
                </button>
                <button type="submit" class="btn btn-primary">
                  <i class="fas fa-save"></i> 保存
                </button>
              </div>
            </form>
          </div>
        </div>

        <!-- 3. 使用记录页 -->
        <div class="page" id="logPage">
          <div class="card">
            <div class="card-header">
              <button class="btn btn-sm btn-default" onclick="returnToList()">
                <i class="fas fa-arrow-left"></i>
                <span>返回</span>
              </button>
              <div class="card-title" id="logTitle">号码使用记录</div>
            </div>

            <div id="logPhone" style="margin-bottom: 1.5rem; padding: 1rem; background-color: var(--bg-light); border-radius: var(--radius);"></div>
            
            <div class="timeline" id="timelineContainer">
              <!-- 时间线内容由JS动态生成 -->
              <div class="timeline-item">
                <div class="timeline-dot">ℹ️</div>
                <div class="timeline-content">
                  <div class="timeline-time">请选择一个号码查看记录</div>
                  <div class="timeline-title">使用记录将显示在这里</div>
                  <div class="timeline-detail">包括号码的分配、修改和状态变更历史</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 4. 人员管理页 -->
        <div class="page" id="personPage">
          <div class="card">
            <div class="card-header">
              <div class="card-title">
                <i class="fas fa-users"></i> 人员管理
              </div>
              <button class="btn btn-success" onclick="showAddPersonForm()">
                <i class="fas fa-plus"></i>
                <span>新增人员</span>
              </button>
            </div>

            <div class="filter-bar" style="margin-bottom: 1rem;">
              <div style="flex: 1; position: relative;">
                <input type="text" class="input input-search" id="personSearchInput" 
                      placeholder="搜索人员姓名/部门/备注" style="padding-left: 36px;">
                <i class="fas fa-search" style="position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: var(--text-tertiary);"></i>
              </div>
              
              <select class="select" id="personDeptFilter" style="width: auto; min-width: 140px;">
                <option value="">全部部门</option>
                <option value="亚马逊团队">亚马逊团队</option>
                <option value="Shopify团队">Shopify团队</option>
                <option value="客服部">客服部</option>
                <option value="技术部">技术部</option>
              </select>
            </div>

            <div id="personListContainer" class="person-list">
              <!-- 人员列表由JS动态生成 -->
            </div>
          </div>

          <!-- 新增/编辑人员表单 -->
          <div class="card" id="personFormCard" style="display: none;">
            <div class="card-header">
              <button class="btn btn-sm btn-default" onclick="hidePersonForm()">
                <i class="fas fa-arrow-left"></i>
                <span>返回</span>
              </button>
              <div class="card-title" id="personFormTitle">新增人员</div>
            </div>
            
            <form class="form" id="personForm" onsubmit="savePerson(event)">
              <input type="hidden" id="personId">

              <div class="form-row">
                <div class="form-col">
                  <div class="form-item">
                    <label class="form-label">姓名 <span style="color: var(--danger);">*</span></label>
                    <input type="text" class="input" id="personName" placeholder="请输入人员姓名" required>
                  </div>
                </div>
                <div class="form-col">
                  <div class="form-item">
                    <label class="form-label">部门/团队 <span style="color: var(--danger);">*</span></label>
                    <input type="text" class="input" id="personPurpose" placeholder="如：亚马逊、客服部" required>
                  </div>
                </div>
              </div>

              <div class="form-item">
                <label class="form-label">联系方式</label>
                <input type="text" class="input" id="personContact" placeholder="电话或邮箱（可选）">
              </div>

              <div class="form-item">
                <label class="form-label">备注</label>
                <textarea class="textarea" id="personRemark" placeholder="添加人员相关备注（可选）"></textarea>
              </div>

              <div class="form-actions">
                <button type="button" class="btn btn-default" onclick="hidePersonForm()">
                  <i class="fas fa-times"></i> 取消
                </button>
                <button type="submit" class="btn btn-primary">
                  <i class="fas fa-save"></i> 保存
                </button>
              </div>
            </form>
          </div>
        </div>

        <!-- 5. 统计分析页 -->
        <div class="page" id="statisticsPage">
          <div class="stats-container">
            <div class="stat-card">
              <div class="stat-title">
                <i class="fas fa-calendar-alt"></i> 本月新增
              </div>
              <div class="stat-value" id="monthlyNew">0</div>
              <div class="stat-desc">
                <span class="stat-change positive">+0 环比上月</span>
              </div>
            </div>
            
            <div class="stat-card success">
              <div class="stat-title">
                <i class="fas fa-percentage"></i> 分配率
              </div>
              <div class="stat-value" id="assignmentRate">0%</div>
              <div class="stat-desc">
                <span class="stat-change positive">+0% 环比上周</span>
              </div>
            </div>
            
            <div class="stat-card warning">
              <div class="stat-title">
                <i class="fas fa-exchange-alt"></i> 周转率
              </div>
              <div class="stat-value" id="turnoverRate">0</div>
              <div class="stat-desc">
                本月更换分配 0 次
              </div>
            </div>
          </div>

          <div class="form-row">
            <div class="form-col">
              <div class="card">
                <div class="card-header">
                  <div class="card-title">
                    <i class="fas fa-chart-bar"></i> 部门分配统计
                  </div>
                </div>
                <div style="height: 300px; display: flex; align-items: center; justify-content: center; color: var(--text-tertiary);" id="deptChart">
                  <div>部门分配统计图表</div>
                </div>
              </div>
            </div>
            <div class="form-col">
              <div class="card">
                <div class="card-header">
                  <div class="card-title">
                    <i class="fas fa-chart-line"></i> 导入趋势
                  </div>
                </div>
                <div style="height: 300px; display: flex; align-items: center; justify-content: center; color: var(--text-tertiary);" id="importTrendChart">
                  <div>导入趋势图表</div>
                </div>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <div class="card-title">
                <i class="fas fa-trophy"></i> 部门效率排行
              </div>
            </div>
            <div class="table-wrapper">
              <table class="table">
                <thead>
                  <tr>
                    <th>排名</th>
                    <th>部门</th>
                    <th>分配数量</th>
                    <th>使用率</th>
                    <th>平均使用时长</th>
                  </tr>
                </thead>
                <tbody id="deptRankingBody">
                  <!-- 部门排行由JS动态生成 -->
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- 6. 系统设置页 -->
        <div class="page" id="settingsPage">
          <div class="card">
            <div class="card-header">
              <div class="card-title">
                <i class="fas fa-cog"></i> 系统设置
              </div>
            </div>
            
            <div class="settings-section">
              <div class="settings-title">界面设置</div>
              <div class="settings-item">
                <div class="settings-label"><i class="fas fa-moon"></i> 深色模式</div>
                <label class="switch">
                  <input type="checkbox" id="darkModeToggle">
                  <span class="slider"></span>
                </label>
              </div>
              <div class="settings-item">
                <div class="settings-label"><i class="fas fa-compress-arrows-alt"></i> 紧凑布局</div>
                <label class="switch">
                  <input type="checkbox" id="compactLayoutToggle">
                  <span class="slider"></span>
                </label>
              </div>
              <div class="settings-item">
                <div class="settings-label"><i class="fas fa-language"></i> 语言设置</div>
                <select class="select" style="width: auto;">
                  <option value="zh-CN">简体中文</option>
                  <option value="en">English</option>
                </select>
              </div>
            </div>
            
            <div class="settings-section">
              <div class="settings-title">数据设置</div>
              <div class="settings-item">
                <div class="settings-label"><i class="fas fa-clock"></i> 自动刷新时间</div>
                <select class="select" style="width: auto;">
                  <option value="0">不自动刷新</option>
                  <option value="30">30秒</option>
                  <option value="60" selected>1分钟</option>
                  <option value="300">5分钟</option>
                </select>
              </div>
              <div class="settings-item">
                <div class="settings-label"><i class="fas fa-history"></i> 日志保留时间</div>
                <select class="select" style="width: auto;">
                  <option value="30">30天</option>
                  <option value="90" selected>90天</option>
                  <option value="180">180天</option>
                  <option value="365">1年</option>
                </select>
              </div>
            </div>
            
            <div class="settings-section">
              <div class="settings-title">导入导出设置</div>
              <div class="settings-item">
                <div class="settings-label"><i class="fas fa-file-export"></i> 默认导出格式</div>
                <select class="select" style="width: auto;">
                  <option value="csv" selected>CSV</option>
                  <option value="txt">TXT</option>
                  <option value="xlsx">Excel</option>
                </select>
              </div>
              <div class="settings-item">
                <div class="settings-label"><i class="fas fa-shield-alt"></i> 导出加密</div>
                <label class="switch">
                  <input type="checkbox" id="exportEncryptionToggle">
                  <span class="slider"></span>
                </label>
              </div>
            </div>
            
            <div class="form-actions">
              <button type="button" class="btn btn-default">
                <i class="fas fa-undo"></i> 恢复默认
              </button>
              <button type="button" class="btn btn-primary">
                <i class="fas fa-save"></i> 保存设置
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 批量导入模态框 -->
  <div class="modal-backdrop" id="importModal">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">
          <i class="fas fa-file-import"></i> 批量导入号码
        </div>
        <button class="modal-close" onclick="closeImportModal()">×</button>
      </div>
      <div class="modal-body">
        <!-- 导入方式选项卡 -->
        <div class="import-tabs">
          <div class="import-tab active" data-tab="file">文件导入</div>
          <div class="import-tab" data-tab="paste">粘贴导入</div>
          <div class="import-tab-indicator" id="importTabIndicator"></div>
        </div>
        
        <!-- 文件导入内容 -->
        <div class="import-tab-content active" id="fileImportContent">
          <div class="form-item">
            <label class="form-label">选择CSV文件</label>
            <input type="file" class="input" id="importFile" accept=".csv">
            <div class="form-hint">
              <i class="fas fa-info-circle"></i> 支持格式：.csv，最大1000条数据
            </div>
          </div>
          
          <div class="form-item">
            <label class="form-label">默认被分配人（可选）</label>
            <select class="select" id="defaultAssignee">
              <option value="">不设置默认值</option>
              <!-- 人员列表将通过JS动态添加 -->
            </select>
            <div class="form-hint">
              <i class="fas fa-info-circle"></i> 如CSV文件中未指定被分配人，将使用此默认值
            </div>
          </div>
          
          <div class="form-item">
            <label class="form-label">导入后状态</label>
            <select class="select" id="importStatus">
              <option value="active" selected>正常</option>
              <option value="disabled">已停用</option>
            </select>
          </div>
          
          <div class="import-template">
            <div class="import-template-title">
              <i class="fas fa-file-alt"></i> 文件导入格式说明
            </div>
            <div>支持的字段（顺序必须一致）：</div>
            <div class="import-fields">
              <span class="import-field">phoneNumber（必填）</span>
              <span class="import-field">name（必填）</span>
              <span class="import-field">age（必填）</span>
              <span class="import-field">assignee（可选）</span>
            </div>
            <div>示例：+1-212-555-1234,张三,30,亚马逊团队</div>
            <button class="btn btn-sm btn-primary" style="margin-top: 10px;" onclick="downloadImportTemplate()">
              <i class="fas fa-download"></i> 下载模板
            </button>
          </div>
        </div>
        
        <!-- 粘贴导入内容 -->
        <div class="import-tab-content" id="pasteImportContent">
          <div class="form-item">
            <label class="form-label">粘贴数据</label>
            <textarea class="paste-area" id="pasteData" placeholder="请按以下格式粘贴数据，每行一条记录：
美国号码,姓名,年龄,被分配人（可选）
例如：
+1-212-555-1234,张三,30,亚马逊团队
+1-310-555-6789,李四,28
+1-773-555-4321,王五,35,Shopify团队"></textarea>
            <div class="form-hint">
              <i class="fas fa-info-circle"></i> 每行一条记录，字段用英文逗号分隔，被分配人可省略
            </div>
            <button class="btn btn-sm btn-primary" onclick="parsePasteData()">
              <i class="fas fa-magic"></i> 解析数据
            </button>
          </div>
          
          <!-- 数据预览区域 -->
          <div id="pastePreviewContainer" style="display: none;">
            <div class="form-hint" style="margin-bottom: 10px;">数据预览（共 <span id="previewCount">0</span> 条）</div>
            <div class="paste-preview">
              <div class="paste-preview-header paste-preview-row">
                <div>序号</div>
                <div>美国号码</div>
                <div>姓名</div>
                <div>年龄</div>
                <div>被分配人</div>
              </div>
              <div id="pastePreviewContent"></div>
            </div>
            <div id="pasteErrors" class="paste-error"></div>
          </div>
          
          <div class="form-row" style="margin-top: 1rem;">
            <div class="form-col">
              <div class="form-item">
                <label class="form-label">统一分配给（可选）</label>
                <select class="select" id="pasteAssignee">
                  <option value="">不分配</option>
                  <!-- 人员列表将通过JS动态添加 -->
                </select>
                <div class="form-hint">
                  <i class="fas fa-info-circle"></i> 选择后将覆盖粘贴数据中的被分配人信息
                </div>
              </div>
            </div>
            <div class="form-col">
              <div class="form-item">
                <label class="form-label">导入后状态</label>
                <select class="select" id="pasteImportStatus">
                  <option value="active" selected>正常</option>
                  <option value="disabled">已停用</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-default" onclick="closeImportModal()">
          <i class="fas fa-times"></i> 取消
        </button>
        <button class="btn btn-primary" onclick="doImport()">
          <i class="fas fa-check"></i> 开始导入
        </button>
      </div>
    </div>
  </div>

  <!-- 批量导出模态框 -->
  <div class="modal-backdrop" id="exportModal">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">
          <i class="fas fa-file-export"></i> 批量导出号码
        </div>
        <button class="modal-close" onclick="closeExportModal()">×</button>
      </div>
      <div class="modal-body">
        <div class="form-item">
          <label class="form-label">选择导出字段</label>
          <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px; margin-top: 10px;">
            <label style="display: flex; align-items: center; gap: 5px;">
              <input type="checkbox" checked id="exportPhone"> 美国号码
            </label>
            <label style="display: flex; align-items: center; gap: 5px;">
              <input type="checkbox" checked id="exportName"> 姓名
            </label>
            <label style="display: flex; align-items: center; gap: 5px;">
              <input type="checkbox" checked id="exportAge"> 年龄
            </label>
            <label style="display: flex; align-items: center; gap: 5px;">
              <input type="checkbox" checked id="exportAssignee"> 被分配人
            </label>
            <label style="display: flex; align-items: center; gap: 5px;">
              <input type="checkbox" checked id="exportImportTime"> 导入时间
            </label>
            <label style="display: flex; align-items: center; gap: 5px;">
              <input type="checkbox" checked id="exportFileName"> 来源文件
            </label>
            <label style="display: flex; align-items: center; gap: 5px;">
              <input type="checkbox" id="exportRemark"> 备注
            </label>
          </div>
        </div>
        
        <div class="form-item">
          <label class="form-label">导出范围</label>
          <select class="select" id="exportRange">
            <option value="filtered">当前筛选结果</option>
            <option value="all">全部号码</option>
            <option value="random">随机未分配号码</option>
          </select>
          
          <!-- 自定义数量输入区域 -->
          <div class="custom-amount-container hidden" id="customAmountContainer">
            <div class="amount-input-group">
              <span>数量：</span>
              <input type="number" class="input amount-input" id="randomExportAmount" min="1" value="50">
            </div>
            <div class="amount-info">
              <i class="fas fa-info-circle"></i> 将从所有未分配号码中随机选择指定数量导出
            </div>
          </div>
        </div>
        
        <div class="form-item">
          <label class="form-label">导出格式</label>
          <select class="select" id="exportFormat">
            <option value="csv">CSV（推荐）</option>
            <option value="txt">TXT（每行一条记录）</option>
            <option value="xlsx">Excel</option>
          </select>
        </div>
        
        <div class="form-item">
          <label class="form-label">导出选项</label>
          <div style="display: flex; align-items: center; gap: 10px; margin-top: 8px;">
            <label style="display: flex; align-items: center; gap: 5px;">
              <input type="checkbox" id="exportWithHeader" checked> 包含标题行
            </label>
            <label style="display: flex; align-items: center; gap: 5px;">
              <input type="checkbox" id="exportEncrypt"> 加密导出
            </label>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-default" onclick="closeExportModal()">
          <i class="fas fa-times"></i> 取消
        </button>
        <button class="btn btn-primary" onclick="doExport()">
          <i class="fas fa-check"></i> 开始导出
        </button>
      </div>
    </div>
  </div>

  <!-- 提示框组件 -->
  <div class="toast" id="toast">
    <i class="fas fa-info-circle"></i>
    <span id="toastMessage"></span>
  </div>
  
  <!-- 加载动画 -->
  <div class="loading" id="loading">
    <div class="loading-spinner"></div>
    <div class="loading-text" id="loadingText">处理中...</div>
  </div>

  <script>
    // 全局数据存储
    let numberList = [];    // 号码列表
    let logList = [];       // 操作日志
    let personList = [];    // 人员列表
    let parsedPasteData = []; // 解析后的粘贴数据
    let savedFilters = [];  // 保存的筛选条件
    let currentSortField = 'id'; // 当前排序字段
    let currentSortDirection = 'asc'; // 当前排序方向

    // 初始化页面
    window.onload = function() {
      // 初始化UI交互组件
      initUIComponents();
      
      showLoading("加载数据中...");
      // 从本地存储加载数据
      loadAllData();
      // 渲染列表
      renderNumberList();
      renderPersonList();
      updatePersonSelectors();
      renderStatistics();
      hideLoading();
    };

    // 初始化UI组件交互
    function initUIComponents() {
      // 侧边栏折叠/展开
      const sidebar = document.getElementById('sidebar');
      const sidebarCollapseBtn = document.getElementById('sidebarCollapseBtn');
      const sidebarLogoText = document.querySelector('#sidebarLogo span');
      const menuTexts = document.querySelectorAll('.sidebar-menu-link span');
      
      sidebarCollapseBtn.addEventListener('click', function() {
        sidebar.classList.toggle('collapsed');
        const icon = sidebarCollapseBtn.querySelector('i');
        
        if (sidebar.classList.contains('collapsed')) {
          icon.classList.remove('fa-angle-left');
          icon.classList.add('fa-angle-right');
          sidebarLogoText.style.display = 'none';
          menuTexts.forEach(text => text.style.display = 'none');
        } else {
          icon.classList.remove('fa-angle-right');
          icon.classList.add('fa-angle-left');
          sidebarLogoText.style.display = 'inline';
          menuTexts.forEach(text => text.style.display = 'inline');
        }
      });
      
      // 移动端菜单
      const mobileMenuBtn = document.getElementById('mobileMenuBtn');
      const overlay = document.getElementById('overlay');
      
      mobileMenuBtn.addEventListener('click', function() {
        sidebar.classList.add('show');
        overlay.classList.add('show');
      });
      
      overlay.addEventListener('click', function() {
        sidebar.classList.remove('show');
        overlay.classList.remove('show');
      });
      
      // 菜单点击事件
      document.querySelectorAll('.sidebar-menu-link').forEach(link => {
        link.addEventListener('click', function() {
          document.querySelectorAll('.sidebar-menu-link').forEach(l => {
            l.classList.remove('active');
          });
          this.classList.add('active');
          
          // 移动端自动关闭菜单
          if (window.innerWidth <= 768) {
            sidebar.classList.remove('show');
            overlay.classList.remove('show');
          }
        });
      });
      
      // 导入选项卡切换
      const importTabs = document.querySelectorAll('.import-tab');
      const importTabIndicator = document.getElementById('importTabIndicator');
      
      importTabs.forEach(tab => {
        tab.addEventListener('click', function() {
          const tabName = this.getAttribute('data-tab');
          
          // 切换选项卡激活状态
          importTabs.forEach(t => t.classList.remove('active'));
          this.classList.add('active');
          
          // 切换内容显示
          document.querySelectorAll('.import-tab-content').forEach(content => {
            content.classList.remove('active');
          });
          document.getElementById(`${tabName}ImportContent`).classList.add('active');
          
          // 移动指示器
          const tabWidth = this.offsetWidth;
          const tabLeft = this.offsetLeft;
          importTabIndicator.style.width = `${tabWidth}px`;
          importTabIndicator.style.left = `${tabLeft}px`;
        });
      });
      
      // 初始化选项卡指示器位置
      setTimeout(() => {
        const activeTab = document.querySelector('.import-tab.active');
        const tabWidth = activeTab.offsetWidth;
        const tabLeft = activeTab.offsetLeft;
        importTabIndicator.style.width = `${tabWidth}px`;
        importTabIndicator.style.left = `${tabLeft}px`;
      }, 100);
      
      // 筛选下拉菜单
      const savedFiltersBtn = document.getElementById('savedFiltersBtn');
      const savedFiltersDropdown = document.getElementById('savedFiltersDropdown');
      
      savedFiltersBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        savedFiltersDropdown.classList.toggle('show');
      });
      
      document.addEventListener('click', function() {
        savedFiltersDropdown.classList.remove('show');
      });
      
      // 筛选项点击
      document.querySelectorAll('.filter-dropdown-item').forEach(item => {
        item.addEventListener('click', function() {
          const filterType = this.getAttribute('data-filter');
          
          if (filterType === 'recent') {
            // 最近导入筛选
            filterRecentImported();
          } else if (filterType === 'unassigned') {
            // 未分配筛选
            filterUnassigned();
          } else if (filterType === 'save') {
            // 保存当前筛选
            saveCurrentFilter();
          }
          
          savedFiltersDropdown.classList.remove('show');
        });
      });
      
      // 重置筛选按钮
      document.getElementById('resetFilterBtn').addEventListener('click', function() {
        document.getElementById('statusFilter').value = '';
        document.getElementById('assigneeFilter').value = '';
        document.getElementById('searchInput').value = '';
        filterNumbers();
      });
      
      // 表格排序
      document.querySelectorAll('.table th.sortable').forEach(header => {
        header.addEventListener('click', function() {
          const field = this.getAttribute('data-sort');
          
          // 重置所有排序指示
          document.querySelectorAll('.table th.sortable').forEach(h => {
            h.classList.remove('sort-asc', 'sort-desc');
          });
          
          // 设置排序方向
          if (currentSortField === field) {
            currentSortDirection = currentSortDirection === 'asc' ? 'desc' : 'asc';
          } else {
            currentSortField = field;
            currentSortDirection = 'asc';
          }
          
          // 添加排序指示
          this.classList.add(`sort-${currentSortDirection}`);
          
          // 重新筛选和排序
          filterNumbers();
        });
      });
      
      // 用户菜单
      const userMenuBtn = document.getElementById('userMenuBtn');
      const userMenu = document.getElementById('userMenu');
      
      userMenuBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        userMenu.classList.toggle('show');
      });
      
      document.addEventListener('click', function() {
        userMenu.classList.remove('show');
      });
      
      // 快捷按钮绑定
      document.getElementById('addNumberBtn').addEventListener('click', showAddForm);
      document.getElementById('importBtn').addEventListener('click', openImportModal);
      document.getElementById('exportBtn').addEventListener('click', openExportModal);
      document.getElementById('refreshBtn').addEventListener('click', refreshList);
      
      // 主题切换
      const themeToggle = document.getElementById('themeToggle');
      themeToggle.addEventListener('change', function() {
        if (this.checked) {
          document.body.classList.add('dark-mode');
          showToast('已切换至深色模式', 'success');
        } else {
          document.body.classList.remove('dark-mode');
          showToast('已切换至浅色模式', 'success');
        }
      });
      
      // 导出范围选择变化事件 - 显示/隐藏自定义数量输入
      const exportRange = document.getElementById('exportRange');
      const customAmountContainer = document.getElementById('customAmountContainer');
      
      exportRange.addEventListener('change', function() {
        if (this.value === 'random') {
          customAmountContainer.classList.remove('hidden');
        } else {
          customAmountContainer.classList.add('hidden');
        }
      });
    }

    // 页面切换 - 返回列表页
    function returnToList() {
      showToast("返回列表", "success");
      showPage('listPage');
    }

    // 通用页面切换
    function showPage(pageId) {
      document.querySelectorAll('.page').forEach(page => {
        page.classList.remove('active');
      });
      document.getElementById(pageId).classList.add('active');
      
      // 更新侧边栏选中状态
      document.querySelectorAll('.sidebar-menu-link').forEach(link => {
        if (link.getAttribute('data-page') === pageId) {
          link.classList.add('active');
        } else {
          link.classList.remove('active');
        }
      });
      
      // 如果切换到人员页面，重新渲染人员列表
      if (pageId === 'personPage') {
        renderPersonList();
      }
      
      // 如果切换到统计页面，重新渲染统计数据
      if (pageId === 'statisticsPage') {
        renderStatistics();
      }
    }

    // 筛选最近导入的数据（近7天）
    function filterRecentImported() {
      const sevenDaysAgo = new Date();
      sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);
      
      document.getElementById('statusFilter').value = '';
      document.getElementById('assigneeFilter').value = '';
      document.getElementById('searchInput').value = '';
      
      const filtered = numberList.filter(item => {
        const importDate = new Date(item.importTime);
        return importDate >= sevenDaysAgo;
      });
      
      renderNumberList(filtered);
      showToast('已筛选最近7天导入的数据', 'info');
    }

    // 筛选未分配的数据
    function filterUnassigned() {
      document.getElementById('statusFilter').value = 'unused';
      document.getElementById('assigneeFilter').value = '';
      document.getElementById('searchInput').value = '';
      
      const filtered = numberList.filter(item => !item.assignee && item.status !== 'disabled');
      renderNumberList(filtered);
      showToast('已筛选未分配的号码', 'info');
    }

    // 保存当前筛选条件
    function saveCurrentFilter() {
      const statusFilter = document.getElementById('statusFilter').value;
      const assigneeFilter = document.getElementById('assigneeFilter').value;
      const searchKeyword = document.getElementById('searchInput').value;
      
      // 生成筛选名称
      let filterName = '';
      if (statusFilter === 'used') filterName += '已分配';
      else if (statusFilter === 'unused') filterName += '未分配';
      else if (statusFilter === 'disabled') filterName += '已停用';
      
      if (assigneeFilter) {
        filterName += (filterName ? ' - ' : '') + assigneeFilter;
      }
      
      if (searchKeyword) {
        filterName += (filterName ? ' - ' : '') + '搜索: ' + searchKeyword.substring(0, 10);
      }
      
      if (!filterName) {
        filterName = '全部数据';
      }
      
      // 提示用户输入筛选名称
      const customName = prompt('请输入筛选条件名称:', filterName);
      if (!customName) return;
      
      // 保存筛选条件
      const newFilter = {
        id: Date.now(),
        name: customName,
        status: statusFilter,
        assignee: assigneeFilter,
        keyword: searchKeyword
      };
      
      savedFilters.push(newFilter);
      showToast(`已保存筛选条件: ${customName}`, 'success');
      
      // 这里可以将savedFilters保存到localStorage
      localStorage.setItem('savedFilters', JSON.stringify(savedFilters));
    }

    // 解析粘贴的数据
    function parsePasteData() {
      const pasteData = document.getElementById('pasteData').value.trim();
      if (!pasteData) {
        showToast("请输入要解析的数据", "error");
        return;
      }
      
      parsedPasteData = [];
      const lines = pasteData.split('\n');
      const errors = [];
      
      lines.forEach((line, index) => {
        const lineNumber = index + 1;
        const trimmedLine = line.trim();
        if (!trimmedLine) return;
        
        const fields = trimmedLine.split(',');
        let phoneNumber, name, age, assignee = '';
        
        // 解析字段
        if (fields.length >= 3) {
          phoneNumber = fields[0].trim();
          name = fields[1].trim();
          age = fields[2].trim();
          if (fields.length >= 4) assignee = fields[3].trim();
        } else {
          errors.push(`第 ${lineNumber} 行：数据格式错误，至少需要包含3个字段（号码,姓名,年龄）`);
          return;
        }
        
        // 验证号码格式
        const phonePattern = /^\+1-\d{3}-\d{3}-\d{4}$/;
        if (!phonePattern.test(phoneNumber)) {
          errors.push(`第 ${lineNumber} 行：号码格式错误，应为 +1-XXX-XXX-XXXX`);
        }
        
        // 验证姓名
        if (!name) {
          errors.push(`第 ${lineNumber} 行：姓名不能为空`);
        }
        
        // 验证年龄
        const ageNum = parseInt(age);
        if (isNaN(ageNum) || ageNum < 0 || ageNum > 150) {
          errors.push(`第 ${lineNumber} 行：年龄必须是0-150之间的数字`);
        }
        
        // 添加到解析数据列表
        parsedPasteData.push({
          phoneNumber,
          name,
          age: ageNum,
          assignee,
          isValid: errors.filter(e => e.startsWith(`第 ${lineNumber} 行`)).length === 0
        });
      });
      
      // 显示预览
      document.getElementById('pastePreviewContainer').style.display = 'block';
      document.getElementById('previewCount').textContent = parsedPasteData.length;
      
      // 渲染预览内容
      const previewContent = document.getElementById('pastePreviewContent');
      previewContent.innerHTML = '';
      
      parsedPasteData.forEach((item, index) => {
        const row = document.createElement('div');
        row.className = `paste-preview-row ${item.isValid ? '' : 'error'}`;
        
        row.innerHTML = `
          <div>${index + 1}</div>
          <div>${item.phoneNumber}</div>
          <div>${item.name}</div>
          <div>${item.age}</div>
          <div>${item.assignee || '-'}</div>
        `;
        
        previewContent.appendChild(row);
      });
      
      // 显示错误信息
      const errorContainer = document.getElementById('pasteErrors');
      if (errors.length > 0) {
        errorContainer.innerHTML = `<i class="fas fa-exclamation-circle"></i> 发现 ${errors.length} 个错误：${errors.join('；')}`;
      } else {
        errorContainer.textContent = '';
      }
    }

    // 加载所有数据
    function loadAllData() {
      // 从本地存储获取，没有则初始化示例数据
      const savedNumbers = localStorage.getItem('usNumbers');
      const savedLogs = localStorage.getItem('usLogs');
      const savedPersons = localStorage.getItem('usPersons');
      const savedFiltersData = localStorage.getItem('savedFilters');

      // 加载号码数据
      if (savedNumbers) {
        numberList = JSON.parse(savedNumbers);
      } else {
        // 初始化示例数据（包含所有要求的字段）
        numberList = [
          { 
            id: 1, 
            phoneNumber: "+1-212-555-1234", 
            name: "张三",
            age: 30,
            assignee: "亚马逊团队", 
            importTime: "2024-09-20 15:30",
            fileName: "initial_data.csv",
            status: "active",
            remark: "主要用于北美市场"
          },
          { 
            id: 2, 
            phoneNumber: "+1-310-555-6789", 
            name: "李四",
            age: 28,
            assignee: "", 
            importTime: "2024-09-21 10:15",
            fileName: "initial_data.csv",
            status: "active",
            remark: ""
          },
          { 
            id: 3, 
            phoneNumber: "+1-773-555-4321", 
            name: "王五",
            age: 35,
            assignee: "Shopify团队", 
            importTime: "2024-09-21 14:00",
            fileName: "october_batch.csv",
            status: "active",
            remark: "备用号码"
          },
          { 
            id: 4, 
            phoneNumber: "+1-415-555-9876", 
            name: "赵六",
            age: 25,
            assignee: "", 
            importTime: "2024-09-22 09:45",
            fileName: "october_batch.csv",
            status: "disabled",
            remark: "已停用"
          },
          { 
            id: 5, 
            phoneNumber: "+1-202-555-5678", 
            name: "钱七",
            age: 40,
            assignee: "", 
            importTime: "2024-09-22 11:30",
            fileName: "october_batch.csv",
            status: "active",
            remark: ""
          },
          { 
            id: 6, 
            phoneNumber: "+1-323-555-4321", 
            name: "孙八",
            age: 32,
            assignee: "", 
            importTime: "2024-09-22 14:20",
            fileName: "october_batch.csv",
            status: "active",
            remark: ""
          }
        ];
        saveNumbersToStorage();
      }

      // 加载日志数据
      if (savedLogs) {
        logList = JSON.parse(savedLogs);
      } else {
        logList = [
          { id: 1, numberId: 1, action: "分配", content: "分配给 亚马逊团队", time: "2024-09-20 15:30", type: "used", operator: "管理员" },
          { id: 2, numberId: 3, action: "分配", content: "分配给 Shopify团队", time: "2024-09-21 14:00", type: "used", operator: "管理员" },
          { id: 3, numberId: 4, action: "停用", content: "手动标记为已停用", time: "2024-09-22 10:30", type: "deleted", operator: "管理员" }
        ];
        saveLogsToStorage();
      }

      // 加载人员数据
      if (savedPersons) {
